{"ast":null,"code":"var _jsxFileName = \"/home/wws/Desktop/todo-application/src/pages/Posts/Post.js\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport \"./Post.css\";\nimport Modal from './../../common/Modal/Modal';\nimport Axios from \"axios\";\nimport { AuthContext } from '../../context/Auth';\n\nfunction Post(props) {\n  const {\n    currentUser\n  } = useContext(AuthContext);\n  const [showModal, setShowModal] = useState(false);\n  const [showDetails, setShowDetails] = useState(false);\n  const [postTitle, setPostTitle] = useState(\"\");\n  const [postDescription, setPostDescription] = useState(\"\");\n  const [scheduleDate, setScheduleDate] = useState(\"\");\n  const [formComplete, setFormComplete] = useState(false);\n  const [formIncompleteError, setFormIncompleteError] = useState(false);\n  const [postName, setPostName] = useState(\"\");\n  const [postDetail, setPostDetail] = useState(\"\");\n  const [postDate, setPostDate] = useState(\"\");\n  const [postData, setPostData] = useState(\"\");\n  const [isPostAdded, setIsPostAdded] = useState(false);\n  const [isPostDelete, setIsPostDelete] = useState(false);\n  const [isPostEdited, setIsPostEdited] = useState(false);\n  const [editDetails, setEditDetails] = useState(false);\n  const [postId, setPostId] = useState(\"\");\n  const postTitles = React.useRef();\n  const postDescriptions = React.useRef();\n  const scheduleDates = React.useRef();\n  const userId = currentUser.uid; // to Hide past date\n\n  var today = new Date();\n  var month,\n      day = null;\n\n  if (today.getMonth() < 10 || today.getDate() < 10) {\n    month = \"0\" + (today.getMonth() + 1);\n    day = \"0\" + today.getDate();\n  }\n\n  var date = today.getFullYear() + \"-\" + month + \"-\" + day;\n  useEffect(() => {\n    setIsPostAdded(false);\n    setIsPostDelete(false);\n    setIsPostEdited(false);\n    getPostData(currentUser.email);\n  }, [isPostAdded, isPostDelete, isPostEdited, currentUser]);\n\n  const getPostData = email => {\n    Axios.get(`https://react-crud-e02cf.firebaseio.com/post/${userId}.json`).then(response => {\n      setPostData(response.data); // setPostData(Object.entries(response.data).filter((e)=>(e.user === email)));\n      // console.log(response);\n    }).catch(error => console.log(error));\n  }; //  to Add and Edit cardData in DB\n\n\n  const handleAddPostData = e => {\n    //   check if all input is taken\n    if (postTitles.current.value.length === 0 || postDescriptions.current.value.length === 0 || scheduleDates.current.value.length === 0) {\n      setFormComplete(false);\n      setFormIncompleteError(true);\n    } else {\n      // if user wants to edit then put request is used\n      if (editDetails) {\n        Axios.put(`https://react-crud-e02cf.firebaseio.com/post/${userId}/${postId}.json`, {\n          postName: postName === \"\" ? postTitle : postName,\n          postDetail: postDetail === \"\" ? postDescription : postDetail,\n          postDate: postDate === \"\" ? scheduleDate : postDate,\n          user: currentUser.email\n        }).then(response => {\n          alert(\"post edited succesfully\");\n          setIsPostEdited(true);\n        }).catch(error => console.log(\"Error in editDetails\" + error));\n      } //  if user wants to add a new card\n      else {\n          Axios.post(`https://react-crud-e02cf.firebaseio.com/post/${userId}.json`, {\n            postName: postName,\n            postDetail: postDetail,\n            postDate: postDate,\n            user: currentUser.email\n          }).then(response => {\n            alert(\"post added succesfully\");\n            setIsPostAdded(true);\n          }).catch(error => console.log(\"Error\" + error));\n        }\n\n      setShowModal(false);\n      setEditDetails(false);\n      setPostName(\"\");\n      setPostDetail(\"\");\n      setPostDate(\"\");\n    }\n  }; // on click of card this function shows details\n\n\n  const onPostClick = (postTitle, postDescription, scheduleDate, postId, e) => {\n    setShowDetails(true);\n    setPostTitle(postTitle);\n    setPostDescription(postDescription);\n    setScheduleDate(scheduleDate);\n    setPostId(postId);\n  }; // handles edit button click\n\n\n  const handleEdit = e => {\n    setShowDetails(false);\n    setShowModal(true);\n    setEditDetails(true);\n  }; // handles archive on card archive click\n\n\n  const handleDelete = (postId, e) => {\n    if (window.confirm(\"Are you sure you want to delete the Post?\")) {\n      Axios.delete(`https://react-crud-e02cf.firebaseio.com/post/${userId}/${postId}.json`).then(response => {\n        alert(\"post deleted succesfully\");\n        setIsPostDelete(true);\n      }).catch(error => console.log(\"Error\" + error));\n    }\n  };\n\n  const modalCloseHandler = () => {\n    setShowModal(false);\n    setEditDetails(false);\n  };\n\n  const showmodalCloseHandler = () => {\n    setShowDetails(false);\n  }; //modal of Add and Edit Card\n\n\n  let modalContent = showModal ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container py-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12 text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 11\n    }\n  }, editDetails ? 'Edit Post' : 'Add Post'), formIncompleteError ? /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 34\n    }\n  }, \"Kindly complete the form before adding Column\") : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"postTitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 11\n    }\n  }, \"Post Title\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"post_title\",\n    defaultValue: editDetails ? postTitle : \"\",\n    placeholder: \"Enter a post title\",\n    ref: postTitles,\n    onChange: event => setPostName(event.target.value),\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"postDescription\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 11\n    }\n  }, \"Post Description\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"post_description\",\n    defaultValue: editDetails ? postDescription : \"\",\n    placeholder: \"Enter a post Description\",\n    ref: postDescriptions,\n    onChange: event => setPostDetail(event.target.value),\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"schedule\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 11\n    }\n  }, \"Schedule Date\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"date\",\n    id: \"schedule_date\",\n    min: date,\n    defaultValue: editDetails ? scheduleDate : \"\",\n    ref: scheduleDates,\n    onChange: event => setPostDate(event.target.value),\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    disabled: formComplete,\n    className: \"btn btn-info\",\n    onClick: handleAddPostData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 9\n    }\n  }, editDetails ? 'Edit Post' : 'Add Post'))))) : null; //modal of show card details\n\n  let showmodalContent = showDetails ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container my-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 13\n    }\n  }, \"View Post\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    id: \"editBtn\",\n    className: \"btn btn-info\",\n    onClick: handleEdit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 13\n    }\n  }, \"Edit Post\")), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-left my-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 13\n    }\n  }, \"Post Title\"), /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 13\n    }\n  }, postTitle)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-left my-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 13\n    }\n  }, \"Post Description\"), /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 13\n    }\n  }, postDescription)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-left my-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 13\n    }\n  }, \"Post Date\"), /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 13\n    }\n  }, scheduleDate)))))) : null;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wrapper d-flex align-items-stretch\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container py-3 post-data\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }\n  }, \"Posts\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-dark mt-4\",\n    onClick: () => setShowModal(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 7\n    }\n  }, \"Add Post\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-table my-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table table-striped table-hover table-dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 11\n    }\n  }, \"Post Title\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 11\n    }\n  }, \"Post Description\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 11\n    }\n  }, \"Schedule date\"), /*#__PURE__*/React.createElement(\"th\", {\n    scope: \"col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 11\n    }\n  }, \"Action\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }\n  }, postData ? Object.entries(postData).map(item => /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    key: item[0],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 11\n    }\n  }, item[1].postName), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 11\n    }\n  }, item[1].postDetail), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 11\n    }\n  }, item[1].postDate), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    id: item[0],\n    value: item[1].postName,\n    onClick: e => onPostClick(item[1].postName, item[1].postDetail, item[1].postDate, item[0], e),\n    className: \"btn btn-success btn-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-eye\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 54\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    id: item[0],\n    onClick: e => handleDelete(item[0], e),\n    className: \"btn btn-danger btn-sm ml-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-trash\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 135\n    }\n  }))))) : /*#__PURE__*/React.createElement(\"span\", {\n    className: \"noTaskAdded p-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 15\n    }\n  }, \"No tasks added\")))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 9\n    }\n  }), showModal && /*#__PURE__*/React.createElement(Modal, {\n    content: modalContent,\n    close: modalCloseHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 13\n    }\n  }), showDetails && /*#__PURE__*/React.createElement(Modal, {\n    content: showmodalContent,\n    close: showmodalCloseHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 9\n    }\n  })));\n}\n\nexport default Post;","map":{"version":3,"sources":["/home/wws/Desktop/todo-application/src/pages/Posts/Post.js"],"names":["React","useState","useEffect","useContext","Modal","Axios","AuthContext","Post","props","currentUser","showModal","setShowModal","showDetails","setShowDetails","postTitle","setPostTitle","postDescription","setPostDescription","scheduleDate","setScheduleDate","formComplete","setFormComplete","formIncompleteError","setFormIncompleteError","postName","setPostName","postDetail","setPostDetail","postDate","setPostDate","postData","setPostData","isPostAdded","setIsPostAdded","isPostDelete","setIsPostDelete","isPostEdited","setIsPostEdited","editDetails","setEditDetails","postId","setPostId","postTitles","useRef","postDescriptions","scheduleDates","userId","uid","today","Date","month","day","getMonth","getDate","date","getFullYear","getPostData","email","get","then","response","data","catch","error","console","log","handleAddPostData","e","current","value","length","put","user","alert","post","onPostClick","handleEdit","handleDelete","window","confirm","delete","modalCloseHandler","showmodalCloseHandler","modalContent","color","event","target","showmodalContent","Object","entries","map","item"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport  \"./Post.css\";\nimport Modal from './../../common/Modal/Modal';\nimport Axios from \"axios\";\nimport { AuthContext } from '../../context/Auth';\n\n\nfunction Post(props) {\n  const { currentUser } = useContext(AuthContext);\n\n  const [showModal, setShowModal] = useState(false);\n  const [showDetails, setShowDetails] = useState(false);\n  const [postTitle, setPostTitle] = useState(\"\");\n  const [postDescription, setPostDescription] = useState(\"\");\n  const [scheduleDate, setScheduleDate] = useState(\"\");\n  const [formComplete, setFormComplete] = useState(false);\n  const [formIncompleteError, setFormIncompleteError] = useState(false);\n\n  const [postName, setPostName] = useState(\"\");\n  const [postDetail, setPostDetail] = useState(\"\");\n  const [postDate, setPostDate] = useState(\"\");\n\n  const [postData, setPostData] = useState(\"\");\n  const [isPostAdded, setIsPostAdded] = useState(false);\n  const [isPostDelete, setIsPostDelete] = useState(false);\n  const [isPostEdited, setIsPostEdited] = useState(false);\n\n  const [editDetails, setEditDetails] = useState(false);\n  const [postId, setPostId] = useState(\"\");\n\n  const postTitles  = React.useRef();\n  const postDescriptions  = React.useRef();\n  const scheduleDates  = React.useRef();\n\n  const userId = currentUser.uid;\n \n    // to Hide past date\n    var today = new Date();\n    var month,\n      day = null;\n    if (today.getMonth() < 10 || today.getDate() < 10) {\n      month = \"0\" + (today.getMonth() + 1);\n      day = \"0\" + today.getDate();\n    }\n    var date = today.getFullYear() + \"-\" + month + \"-\" + day;\n\n    useEffect(() => {\n      setIsPostAdded(false);\n      setIsPostDelete(false);\n      setIsPostEdited(false);\n      getPostData(currentUser.email);\n    }, [isPostAdded, isPostDelete, isPostEdited, currentUser]);\n\n    const getPostData = (email) => {\n      Axios\n      .get(`https://react-crud-e02cf.firebaseio.com/post/${userId}.json`)\n      .then((response) => {\n        setPostData(response.data)\n        // setPostData(Object.entries(response.data).filter((e)=>(e.user === email)));\n        // console.log(response);\n      })\n      .catch((error) => console.log(error));\n  };\n  \n//  to Add and Edit cardData in DB\nconst handleAddPostData = (e) => {\n  //   check if all input is taken\n  if(postTitles.current.value.length === 0 || postDescriptions.current.value.length === 0  || scheduleDates.current.value.length === 0 ){\n    setFormComplete(false);\n    setFormIncompleteError(true);\n  } else {\n    // if user wants to edit then put request is used\n    if (editDetails) {\n      Axios\n      .put(`https://react-crud-e02cf.firebaseio.com/post/${userId}/${postId}.json`,\n        {\n          postName: postName === \"\" ? postTitle : postName,\n          postDetail: postDetail === \"\" ? postDescription : postDetail,\n          postDate: postDate === \"\" ? scheduleDate : postDate,\n          user: currentUser.email,\n        }\n      )\n        .then((response) => {\n          alert(\"post edited succesfully\");\n          setIsPostEdited(true);\n        })\n        .catch((error) => console.log(\"Error in editDetails\" + error));\n    }\n    //  if user wants to add a new card\n    else {\n      Axios\n      .post(`https://react-crud-e02cf.firebaseio.com/post/${userId}.json`,\n        {\n          postName: postName,\n          postDetail: postDetail,\n          postDate: postDate,\n          user: currentUser.email,\n        }\n      )\n        .then((response) => {\n          alert(\"post added succesfully\");\n          setIsPostAdded(true);\n        })\n        .catch((error) => console.log(\"Error\" + error));\n    }\n\n    setShowModal(false);\n    setEditDetails(false);\n\n    setPostName(\"\");\n    setPostDetail(\"\");\n    setPostDate(\"\");\n  }\n};\n\n  // on click of card this function shows details\n  const onPostClick = (\n    postTitle,\n    postDescription,\n    scheduleDate,\n    postId,\n    e\n  ) => {\n    setShowDetails(true);\n\n    setPostTitle(postTitle);\n    setPostDescription(postDescription);\n    setScheduleDate(scheduleDate);\n    setPostId(postId);\n  };\n\n   // handles edit button click\n const handleEdit = (e) => {\n  setShowDetails(false);\n  setShowModal(true);\n  setEditDetails(true);\n};\n\n\n\n  // handles archive on card archive click\n  const handleDelete = (postId, e) => {\n    if (window.confirm(\"Are you sure you want to delete the Post?\")) {\n    Axios\n    .delete(`https://react-crud-e02cf.firebaseio.com/post/${userId}/${postId}.json`)\n      .then((response) => {\n        alert(\"post deleted succesfully\");\n        setIsPostDelete(true);\n      })\n      .catch((error) => console.log(\"Error\" + error));\n    }\n  };\n\n\n\n  const  modalCloseHandler = () => { setShowModal(false); setEditDetails(false);};\n\n  const  showmodalCloseHandler = () => {setShowDetails(false)};\n\n  //modal of Add and Edit Card\n  let modalContent = showModal ? \n\n  (\n      <>\n    <div className=\"container py-4\">\n      <div className=\"row\">\n        <div className=\"col-md-12 text-left\">\n          <h3>{editDetails ? 'Edit Post' : 'Add Post'}</h3>\n          {formIncompleteError ? <p style={{color : 'red'}}>Kindly complete the form before adding Column</p> : null}\n        <div className=\"form-group\">\n          <label htmlFor=\"postTitle\">Post Title</label>\n          <input type=\"text\" id=\"post_title\" defaultValue={editDetails ? postTitle : \"\"} placeholder=\"Enter a post title\" ref={postTitles} onChange={(event) => setPostName(event.target.value)} className=\"form-control\"/>\n        </div> \n        <div className=\"form-group\">\n          <label htmlFor=\"postDescription\">Post Description</label>\n          <input type=\"text\" id=\"post_description\" defaultValue={editDetails ? postDescription : \"\"} placeholder=\"Enter a post Description\" ref={postDescriptions} onChange={(event) => setPostDetail(event.target.value)} className=\"form-control\"/>\n        </div> \n        <div className=\"form-group\">\n          <label htmlFor=\"schedule\">Schedule Date</label>\n          <input type=\"date\" id=\"schedule_date\" min={date} defaultValue={editDetails ? scheduleDate : \"\"} ref={scheduleDates} onChange={(event) => setPostDate(event.target.value)} className=\"form-control\"/>\n        </div>\n        <button disabled={formComplete} className=\"btn btn-info\" onClick={handleAddPostData}>{editDetails ? 'Edit Post' : 'Add Post'}</button>\n        </div>\n      </div>\n    </div>\n\n  \n      </>\n  )\n  :null;\n\n  //modal of show card details\n  let showmodalContent = showDetails ? \n\n  (\n      <>\n  <div className=\"container my-4\">\n        <div className=\"row\">\n          <div className=\"col-lg-12\">\n          <div className=\"d-flex justify-content-between\">\n            <h2 className=\"text-left\">View Post</h2>\n            <button type=\"button\" id=\"editBtn\" className=\"btn btn-info\" onClick={handleEdit}>Edit Post</button>\n          </div>\n          <hr/>\n          <div className=\"text-left my-4\">\n            <h4>Post Title</h4>\n            <h6>{postTitle}</h6>\n          </div>\n          <div className=\"text-left my-4\">\n            <h4>Post Description</h4>\n            <h6>{postDescription}</h6>\n          </div>\n          <div className=\"text-left my-4\">\n            <h4>Post Date</h4>\n            <h6>{scheduleDate}</h6>\n          </div>\n      </div>\n      </div>\n      </div>\n      </>\n     \n  )\n  :null;\n\n  return (\n    <div className=\"wrapper d-flex align-items-stretch\">\n    <div className=\"container py-3 post-data\">\n      <h2>Posts</h2>\n      <button className=\"btn btn-dark mt-4\" onClick={() => setShowModal(true)}>Add Post</button>\n      <div className=\"post-table my-5\">\n      <table className=\"table table-striped table-hover table-dark\">\n      <thead>\n        <tr>\n          <th scope=\"col\">Post Title</th>\n          <th scope=\"col\">Post Description</th>\n          <th scope=\"col\">Schedule date</th>\n          <th scope=\"col\">Action</th>\n        </tr>\n      </thead>\n      <tbody>\n      {postData ?\n        Object.entries(postData).map((item) => (\n        <tr>\n          <td key={item[0]}>{item[1].postName}</td>\n          <td>{item[1].postDetail}</td>\n          <td>{item[1].postDate}</td>\n          <td>\n            <button  id={item[0]} value={item[1].postName} onClick={(e) =>\n                  onPostClick(\n                    item[1].postName,\n                    item[1].postDetail,\n                    item[1].postDate,\n                    item[0],\n                    e\n                  )\n                } className=\"btn btn-success btn-sm\"><i className=\"fa fa-eye\" aria-hidden=\"true\"></i></button>\n                <button type=\"button\"  id={item[0]}  onClick={(e) => handleDelete(item[0], e)} className=\"btn btn-danger btn-sm ml-2\"><i className=\"fa fa-trash\" aria-hidden=\"true\"></i></button></td>\n        </tr>\n        ) ) : <span className=\"noTaskAdded p-5\">No tasks added</span>}\n      </tbody>\n    </table>\n      </div>\n        <br />\n        {showModal && (\n        \n            <Modal  \n                content = {modalContent}\n                close = {modalCloseHandler}/> \n        )}\n       \n       {showDetails && (\n        \n        <Modal  \n            content = {showmodalContent}\n            close = {showmodalCloseHandler}/> \n    )}\n\n    </div>\n    </div>\n\n\n   \n)\n}\n\nexport default Post;\n"]},"metadata":{},"sourceType":"module"}