{"ast":null,"code":"import _slicedToArray from\"/home/wws/Desktop/todo-application/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useContext}from'react';import Axios from'axios';import{AuthContext}from'../../context/Auth';import{withRouter,useHistory}from\"react-router-dom\";import'./CreateBucket.css';var CreateBucket=function CreateBucket(props){var _useContext=useContext(AuthContext),currentUser=_useContext.currentUser;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),formComplete=_useState2[0],setFormComplete=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),formIncompleteError=_useState4[0],setFormIncompleteError=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isBucketAdded=_useState6[0],setIsBucketAdded=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),nameOfBuckets=_useState8[0],setNameOfBuckets=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),bucketDate=_useState10[0],setBucketDates=_useState10[1];var NameOfBuckets=React.useRef();var BucketDate=React.useRef();var userId=currentUser.uid;// to use history function\nvar history=useHistory();useEffect(function(){setIsBucketAdded(false);},[isBucketAdded]);var addBucketToDBHandler=function addBucketToDBHandler(event){event.preventDefault();if(NameOfBuckets.current.value.length===0||BucketDate.current.value.length===0){setFormComplete(false);setFormIncompleteError(true);}else{// add column name in firebase\nAxios.post(\"https://pro-organiser-app.firebaseio.com/\".concat(userId,\"/boardContents.json\"),{bucketName:nameOfBuckets,bdate:bucketDate}).then(function(response){alert(\"Bucket added succesfully\");history.push(\"/\");setIsBoardAdded(true);}).catch(function(error){return console.log(error);});}};return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},formIncompleteError?/*#__PURE__*/React.createElement(\"p\",{style:{color:'red'}},\"Kindly complete the form before adding the Bucket\"):null,/*#__PURE__*/React.createElement(\"h2\",null,\"Create a Board\"),/*#__PURE__*/React.createElement(\"div\",{className:\"row justify-content-center\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-10\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:addBucketToDBHandler},/*#__PURE__*/React.createElement(\"div\",{class:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{for:\"exampleInputEmail1\"},\"Enter a name of your bucket:\"),/*#__PURE__*/React.createElement(\"input\",{id:\"bucketname\",type:\"text\",name:\"bucketname\",placeholder:\"eg Frontend Bucket\",ref:NameOfbucket,onChange:function onChange(event){return setNameOfBuckets(event.target.value);}})),/*#__PURE__*/React.createElement(\"div\",{class:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{for:\"exampleInputPassword1\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{id:\"bdate\",type:\"date\",name:\"bdate\",ref:BucketDate,onChange:function onChange(event){return setBucketDates(event.target.value);}})),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",id:\"createBucket\",class:\"btn btn-danger\",disabled:formComplete},\"Submit\")))));};export default withRouter(CreateBucket);","map":{"version":3,"sources":["/home/wws/Desktop/todo-application/src/pages/CreateBucket/CreateBucket.js"],"names":["React","useState","useEffect","useContext","Axios","AuthContext","withRouter","useHistory","CreateBucket","props","currentUser","formComplete","setFormComplete","formIncompleteError","setFormIncompleteError","isBucketAdded","setIsBucketAdded","nameOfBuckets","setNameOfBuckets","bucketDate","setBucketDates","NameOfBuckets","useRef","BucketDate","userId","uid","history","addBucketToDBHandler","event","preventDefault","current","value","length","post","bucketName","bdate","then","response","alert","push","setIsBoardAdded","catch","error","console","log","color","NameOfbucket","target"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport Axios from 'axios';\nimport { AuthContext } from '../../context/Auth';\nimport { withRouter, useHistory } from \"react-router-dom\";\nimport './CreateBucket.css'\n\nconst CreateBucket = (props) => {\n    const { currentUser } = useContext(AuthContext);\n\n    const [formComplete, setFormComplete] = useState(false);\n    const [formIncompleteError, setFormIncompleteError] = useState(false);\n    const [isBucketAdded, setIsBucketAdded] = useState(false);\n\n    const [nameOfBuckets, setNameOfBuckets] = useState(\"\");\n    const [bucketDate, setBucketDates] = useState(\"\");\n\n\n    const NameOfBuckets  = React.useRef();\n    const BucketDate  = React.useRef();\n\n    const userId = currentUser.uid;\n\n    // to use history function\n    const history = useHistory();\n\n    useEffect(() => {\n        setIsBucketAdded(false);\n      }, [isBucketAdded]);\n\n    \n    const addBucketToDBHandler = (event) => {\n        event.preventDefault();\n        if(NameOfBuckets.current.value.length === 0 || BucketDate.current.value.length === 0){\n        setFormComplete(false);\n        setFormIncompleteError(true);\n        } else {\n        // add column name in firebase\n        Axios.post(`https://pro-organiser-app.firebaseio.com/${userId}/boardContents.json`, {\n            bucketName: nameOfBuckets,\n            bdate: bucketDate,    \n            \n        })\n            .then((response) => {\n                alert(\"Bucket added succesfully\");\n                history.push(\"/\");\n                setIsBoardAdded(true);\n            })\n            .catch((error) => console.log(error));\n\n        }\n    };\n\n    return(\n\n    <div className=\"container\">\n        {formIncompleteError ? <p style={{color : 'red'}}>Kindly complete the form before adding the Bucket</p> : null}\n        <h2>Create a Board</h2>\n        <div className=\"row justify-content-center\">\n            <div className=\"col-lg-10\">\n            <form  onSubmit={addBucketToDBHandler}>\n            <div class=\"form-group\">\n                <label for=\"exampleInputEmail1\">Enter a name of your bucket:</label>\n                <input id=\"bucketname\" type=\"text\" name=\"bucketname\" placeholder=\"eg Frontend Bucket\" ref={NameOfbucket}  onChange={(event) => setNameOfBuckets(event.target.value)}/>\n            </div>\n            <div class=\"form-group\">\n                <label for=\"exampleInputPassword1\">Password</label>\n                <input id=\"bdate\" type=\"date\" name=\"bdate\"  ref={BucketDate}  onChange={(event) => setBucketDates(event.target.value)}/>\n            </div>\n            <button type=\"submit\" id=\"createBucket\" class=\"btn btn-danger\" disabled={formComplete}>Submit</button>\n            </form>\n            </div>\n\n        </div>\n    </div>\n\n    );\n\n}\n\n\nexport default withRouter(CreateBucket);\n"]},"metadata":{},"sourceType":"module"}