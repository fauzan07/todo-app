{"ast":null,"code":"var _jsxFileName = \"/home/wws/Desktop/todo-application/src/components/Todo/Todo.js\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport \"./Todo.css\";\nimport Modal from './../../common/Modal/Modal';\nimport Axios from \"axios\";\nimport { AuthContext } from '../../context/Auth';\n\nfunction Todo(props) {\n  const {\n    currentUser\n  } = useContext(AuthContext);\n  const {\n    bucketId\n  } = props;\n  const [showModal, setShowModal] = useState(false);\n  const [showDetails, setShowDetails] = useState(false);\n  const [postTitle, setPostTitle] = useState(\"\");\n  const [postDescription, setPostDescription] = useState(\"\");\n  const [scheduleDate, setScheduleDate] = useState(\"\");\n  const [formComplete, setFormComplete] = useState(false);\n  const [formIncompleteError, setFormIncompleteError] = useState(false);\n  const [postName, setPostName] = useState(\"\");\n  const [postDetail, setPostDetail] = useState(\"\");\n  const [postDate, setPostDate] = useState(\"\");\n  const [postData, setPostData] = useState(\"\");\n  const [isPostAdded, setIsPostAdded] = useState(false);\n  const [isPostDelete, setIsPostDelete] = useState(false);\n  const [isPostEdited, setIsPostEdited] = useState(false);\n  const [editDetails, setEditDetails] = useState(false);\n  const [todoId, setPostId] = useState(\"\");\n  const postTitles = React.useRef();\n  const postDescriptions = React.useRef();\n  const scheduleDates = React.useRef();\n  const userId = currentUser.uid; // to Hide past date\n\n  var today = new Date();\n  var month,\n      day = null;\n\n  if (today.getMonth() < 10 || today.getDate() < 10) {\n    month = \"0\" + (today.getMonth() + 1);\n    day = \"0\" + today.getDate();\n  }\n\n  var date = day + \"-\" + month + \"-\" + today.getFullYear();\n  useEffect(() => {\n    setIsPostAdded(false);\n    setIsPostDelete(false);\n    setIsPostEdited(false);\n    getPostData(currentUser.email);\n  }, [isPostAdded, isPostDelete, isPostEdited, currentUser]);\n\n  const getPostData = email => {\n    Axios.get(`https://todo-app-a1032.firebaseio.com/${userId}/bucketContents/${bucketId}/todo.json`).then(response => {\n      setPostData(response.data); // setPostData(Object.entries(response.data).filter((e)=>(e.user === email)));\n      // console.log(response);\n    }).catch(error => console.log(error));\n  }; //  to Add and Edit cardData in DB\n\n\n  const handleAddPostData = e => {\n    //   check if all input is taken\n    if (postTitles.current.value.length === 0 || postDescriptions.current.value.length === 0 || scheduleDates.current.value.length === 0) {\n      setFormComplete(false);\n      setFormIncompleteError(true);\n    } else {\n      // if user wants to edit then put request is used\n      if (editDetails) {\n        Axios.put(`https://todo-app-a1032.firebaseio.com/${userId}/bucketContents/${bucketId}/todo/${todoId}.json`, {\n          postName: postName === \"\" ? postTitle : postName,\n          postDetail: postDetail === \"\" ? postDescription : postDetail,\n          postDate: postDate === \"\" ? scheduleDate : postDate,\n          user: currentUser.email\n        }).then(response => {\n          alert(\"ToDo edited succesfully\");\n          setIsPostEdited(true);\n        }).catch(error => console.log(\"Error in editDetails\" + error));\n      } //  if user wants to add a new card\n      else {\n          Axios.post(`https://todo-app-a1032.firebaseio.com/${userId}/bucketContents/${bucketId}/todo.json`, {\n            postName: postName,\n            postDetail: postDetail,\n            postDate: postDate,\n            user: currentUser.email\n          }).then(response => {\n            alert(\"ToDo added succesfully\");\n            setIsPostAdded(true);\n          }).catch(error => console.log(\"Error\" + error));\n        }\n\n      setShowModal(false);\n      setEditDetails(false);\n      setPostName(\"\");\n      setPostDetail(\"\");\n      setPostDate(\"\");\n    }\n  }; // on click of card this function shows details\n\n\n  const onPostClick = (postTitle, postDescription, scheduleDate, postId, e) => {\n    setShowDetails(true);\n    setPostTitle(postTitle);\n    setPostDescription(postDescription);\n    setScheduleDate(scheduleDate);\n    setPostId(postId);\n  }; // handles edit button click\n\n\n  const handleEdit = e => {\n    setShowDetails(false);\n    setShowModal(true);\n    setEditDetails(true);\n  }; // handles archive on card archive click\n\n\n  const handleDelete = e => {\n    if (window.confirm(\"Are you sure you want to delete the ToDo?\")) {\n      Axios.delete(`https://todo-app-a1032.firebaseio.com/${userId}/bucketContents/${bucketId}/todo/${todoId}.json`).then(response => {\n        alert(\"ToDo deleted succesfully\");\n        setIsPostDelete(true);\n      }).catch(error => console.log(\"Error\" + error));\n      setShowDetails(false);\n    }\n  };\n\n  const modalCloseHandler = () => {\n    setShowModal(false);\n    setEditDetails(false);\n  };\n\n  const showmodalCloseHandler = () => {\n    setShowDetails(false);\n  }; //modal of Add and Edit Card\n\n\n  let modalContent = showModal ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container py-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12 text-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"text-warning\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 11\n    }\n  }, editDetails ? 'Edit ToDo' : 'Add ToDo'), formIncompleteError ? /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 34\n    }\n  }, \"Kindly complete the form before adding Column\") : null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"postTitle\",\n    className: \"text-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 11\n    }\n  }, \"Title\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"post_title\",\n    defaultValue: editDetails ? postTitle : \"\",\n    placeholder: \"Enter a post title\",\n    ref: postTitles,\n    onChange: event => setPostName(event.target.value),\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"postDescription\",\n    className: \"text-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 11\n    }\n  }, \"Description\"), /*#__PURE__*/React.createElement(\"textarea\", {\n    type: \"text\",\n    id: \"post_description\",\n    defaultValue: editDetails ? postDescription : \"\",\n    placeholder: \"Enter a post Description\",\n    ref: postDescriptions,\n    onChange: event => setPostDetail(event.target.value),\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"schedule\",\n    className: \"text-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 11\n    }\n  }, \"Date\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"date\",\n    id: \"schedule_date\",\n    min: date,\n    defaultValue: editDetails ? scheduleDate : \"\",\n    ref: scheduleDates,\n    onChange: event => setPostDate(event.target.value),\n    className: \"form-control\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    disabled: formComplete,\n    className: \"btn btn-warning\",\n    onClick: handleAddPostData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 9\n    }\n  }, editDetails ? 'Edit ToDo' : 'Add ToDo'))))) : null; //modal of show card details\n\n  let showmodalContent = showDetails ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container my-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-lg-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"text-left text-warning\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 17\n    }\n  }, \"View ToDo\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    id: \"editBtn\",\n    className: \"btn btn-sm btn-info\",\n    onClick: handleEdit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-pencil\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 105\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    id: \"deleteBtn\",\n    className: \"btn btn-danger btn-sm ml-2\",\n    onClick: handleDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-trash\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 116\n    }\n  })))), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-left my-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 13\n    }\n  }, \"Post Title\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 13\n    }\n  }, postTitle)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-left my-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 13\n    }\n  }, \"Post Description\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 13\n    }\n  }, postDescription)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-left my-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 13\n    }\n  }, \"Post Date\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 13\n    }\n  }, scheduleDate)))))) : null;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"todo-data bg-black pt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-between border p-2 shadow \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"text-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 15\n    }\n  }, \"Add To-Do\")), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-warning\",\n    onClick: () => setShowModal(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    class: \"fa fa-plus-square\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 86\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"todo-list my-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 7\n    }\n  }, postData ? Object.entries(postData).map(item => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-between border p-2 shadow my-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"text-white\",\n    key: item[0],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 15\n    }\n  }, item[1].postName), /*#__PURE__*/React.createElement(\"small\", {\n    className: \"text-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 15\n    }\n  }, item[1].postDate)), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    id: item[0],\n    value: item[1].postName,\n    onClick: e => onPostClick(item[1].postName, item[1].postDetail, item[1].postDate, item[0], e),\n    className: \"btn btn-transparent mt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"text-white fa fa-list\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 58\n    }\n  }))))) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert alert-warning\",\n    role: \"alert\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 15\n    }\n  }, \"No todo added!\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 9\n    }\n  }), showModal && /*#__PURE__*/React.createElement(Modal, {\n    content: modalContent,\n    close: modalCloseHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 13\n    }\n  }), showDetails && /*#__PURE__*/React.createElement(Modal, {\n    content: showmodalContent,\n    close: showmodalCloseHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 9\n    }\n  }));\n}\n\nexport default Todo;","map":{"version":3,"sources":["/home/wws/Desktop/todo-application/src/components/Todo/Todo.js"],"names":["React","useState","useEffect","useContext","Modal","Axios","AuthContext","Todo","props","currentUser","bucketId","showModal","setShowModal","showDetails","setShowDetails","postTitle","setPostTitle","postDescription","setPostDescription","scheduleDate","setScheduleDate","formComplete","setFormComplete","formIncompleteError","setFormIncompleteError","postName","setPostName","postDetail","setPostDetail","postDate","setPostDate","postData","setPostData","isPostAdded","setIsPostAdded","isPostDelete","setIsPostDelete","isPostEdited","setIsPostEdited","editDetails","setEditDetails","todoId","setPostId","postTitles","useRef","postDescriptions","scheduleDates","userId","uid","today","Date","month","day","getMonth","getDate","date","getFullYear","getPostData","email","get","then","response","data","catch","error","console","log","handleAddPostData","e","current","value","length","put","user","alert","post","onPostClick","postId","handleEdit","handleDelete","window","confirm","delete","modalCloseHandler","showmodalCloseHandler","modalContent","color","event","target","showmodalContent","Object","entries","map","item"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport  \"./Todo.css\";\nimport Modal from './../../common/Modal/Modal';\nimport Axios from \"axios\";\nimport { AuthContext } from '../../context/Auth';\n\n\nfunction Todo(props) {\n  const { currentUser } = useContext(AuthContext);\n\n  const {bucketId} = props;\n  \n  const [showModal, setShowModal] = useState(false);\n  const [showDetails, setShowDetails] = useState(false);\n  const [postTitle, setPostTitle] = useState(\"\");\n  const [postDescription, setPostDescription] = useState(\"\");\n  const [scheduleDate, setScheduleDate] = useState(\"\");\n  const [formComplete, setFormComplete] = useState(false);\n  const [formIncompleteError, setFormIncompleteError] = useState(false);\n\n  const [postName, setPostName] = useState(\"\");\n  const [postDetail, setPostDetail] = useState(\"\");\n  const [postDate, setPostDate] = useState(\"\");\n\n  const [postData, setPostData] = useState(\"\");\n  const [isPostAdded, setIsPostAdded] = useState(false);\n  const [isPostDelete, setIsPostDelete] = useState(false);\n  const [isPostEdited, setIsPostEdited] = useState(false);\n\n  const [editDetails, setEditDetails] = useState(false);\n  const [todoId, setPostId] = useState(\"\");\n\n  const postTitles  = React.useRef();\n  const postDescriptions  = React.useRef();\n  const scheduleDates  = React.useRef();\n\n  const userId = currentUser.uid;\n \n    // to Hide past date\n    var today = new Date();\n    var month,\n      day = null;\n    if (today.getMonth() < 10 || today.getDate() < 10) {\n      month = \"0\" + (today.getMonth() + 1);\n      day = \"0\" + today.getDate();\n    }\n    var date = day + \"-\" + month + \"-\" + today.getFullYear();\n\n    useEffect(() => {\n      setIsPostAdded(false);\n      setIsPostDelete(false);\n      setIsPostEdited(false);\n      getPostData(currentUser.email);\n    }, [isPostAdded, isPostDelete, isPostEdited, currentUser]);\n\n    const getPostData = (email) => {\n      Axios\n      .get(`https://todo-app-a1032.firebaseio.com/${userId}/bucketContents/${bucketId}/todo.json`)\n      .then((response) => {\n        setPostData(response.data)\n        // setPostData(Object.entries(response.data).filter((e)=>(e.user === email)));\n        // console.log(response);\n      })\n      .catch((error) => console.log(error));\n  };\n  \n//  to Add and Edit cardData in DB\nconst handleAddPostData = (e) => {\n  //   check if all input is taken\n  if(postTitles.current.value.length === 0 || postDescriptions.current.value.length === 0  || scheduleDates.current.value.length === 0 ){\n    setFormComplete(false);\n    setFormIncompleteError(true);\n  } else {\n    // if user wants to edit then put request is used\n    if (editDetails) {\n      Axios\n      .put(`https://todo-app-a1032.firebaseio.com/${userId}/bucketContents/${bucketId}/todo/${todoId}.json`,\n        {\n          postName: postName === \"\" ? postTitle : postName,\n          postDetail: postDetail === \"\" ? postDescription : postDetail,\n          postDate: postDate === \"\" ? scheduleDate : postDate,\n          user: currentUser.email,\n        }\n      )\n        .then((response) => {\n          alert(\"ToDo edited succesfully\");\n          setIsPostEdited(true);\n        })\n        .catch((error) => console.log(\"Error in editDetails\" + error));\n    }\n    //  if user wants to add a new card\n    else {\n      Axios\n      .post(`https://todo-app-a1032.firebaseio.com/${userId}/bucketContents/${bucketId}/todo.json`,\n        {\n          postName: postName,\n          postDetail: postDetail,\n          postDate: postDate,\n          user: currentUser.email,\n        }\n      )\n        .then((response) => {\n          alert(\"ToDo added succesfully\");\n          setIsPostAdded(true);\n        })\n        .catch((error) => console.log(\"Error\" + error));\n    }\n\n    setShowModal(false);\n    setEditDetails(false);\n\n    setPostName(\"\");\n    setPostDetail(\"\");\n    setPostDate(\"\");\n  }\n};\n\n  // on click of card this function shows details\n  const onPostClick = (\n    postTitle,\n    postDescription,\n    scheduleDate,\n    postId,\n    e\n  ) => {\n    setShowDetails(true);\n\n    setPostTitle(postTitle);\n    setPostDescription(postDescription);\n    setScheduleDate(scheduleDate);\n    setPostId(postId);\n  };\n\n   // handles edit button click\n const handleEdit = (e) => {\n  setShowDetails(false);\n  setShowModal(true);\n  setEditDetails(true);\n};\n\n\n\n  // handles archive on card archive click\n  const handleDelete = (e) => {\n    if (window.confirm(\"Are you sure you want to delete the ToDo?\")) {\n    Axios\n    .delete(`https://todo-app-a1032.firebaseio.com/${userId}/bucketContents/${bucketId}/todo/${todoId}.json`)\n      .then((response) => {\n        alert(\"ToDo deleted succesfully\");\n        setIsPostDelete(true);\n      })\n      .catch((error) => console.log(\"Error\" + error));\n      setShowDetails(false);\n    }\n  };\n\n\n\n  const  modalCloseHandler = () => { setShowModal(false); setEditDetails(false);};\n\n  const  showmodalCloseHandler = () => {setShowDetails(false)};\n\n  //modal of Add and Edit Card\n  let modalContent = showModal ? \n\n  (\n      <>\n    <div className=\"container py-4\">\n      <div className=\"row\">\n        <div className=\"col-md-12 text-left\">\n          <h3 className=\"text-warning\">{editDetails ? 'Edit ToDo' : 'Add ToDo'}</h3>\n          {formIncompleteError ? <p style={{color : 'red'}}>Kindly complete the form before adding Column</p> : null}\n        <div className=\"form-group\">\n          <label htmlFor=\"postTitle\" className=\"text-white\">Title</label>\n          <input type=\"text\" id=\"post_title\" defaultValue={editDetails ? postTitle : \"\"} placeholder=\"Enter a post title\" ref={postTitles} onChange={(event) => setPostName(event.target.value)} className=\"form-control\"/>\n        </div> \n        <div className=\"form-group\">\n          <label htmlFor=\"postDescription\" className=\"text-white\">Description</label>\n          <textarea type=\"text\" id=\"post_description\" defaultValue={editDetails ? postDescription : \"\"} placeholder=\"Enter a post Description\" ref={postDescriptions} onChange={(event) => setPostDetail(event.target.value)} className=\"form-control\"></textarea>\n        </div> \n        <div className=\"form-group\">\n          <label htmlFor=\"schedule\" className=\"text-white\">Date</label>\n          <input type=\"date\" id=\"schedule_date\" min={date} defaultValue={editDetails ? scheduleDate : \"\"} ref={scheduleDates} onChange={(event) => setPostDate(event.target.value)} className=\"form-control\"/>\n        </div>\n        <button disabled={formComplete} className=\"btn btn-warning\" onClick={handleAddPostData}>{editDetails ? 'Edit ToDo' : 'Add ToDo'}</button>\n        </div>\n      </div>\n    </div>\n\n  \n      </>\n  )\n  :null;\n\n  //modal of show card details\n  let showmodalContent = showDetails ? \n\n  (\n      <>\n  <div className=\"container my-4\">\n        <div className=\"row\">\n          <div className=\"col-lg-12\">\n          <div className=\"d-flex justify-content-between\">\n            <div> \n                <h3 className=\"text-left text-warning\">View ToDo</h3>\n            </div>\n            <div>\n                <button type=\"button\" id=\"editBtn\" className=\"btn btn-sm btn-info\" onClick={handleEdit}><i className=\"fa fa-pencil\" aria-hidden=\"true\"></i></button>\n                <button type=\"button\" id=\"deleteBtn\" className=\"btn btn-danger btn-sm ml-2\" onClick={handleDelete}><i className=\"fa fa-trash\" aria-hidden=\"true\"></i></button>\n            </div>\n          </div>\n          <hr/>\n          <div className=\"text-left my-4\">\n            <h4>Post Title</h4>\n            <p>{postTitle}</p>\n          </div>\n          <div className=\"text-left my-4\">\n            <h4>Post Description</h4>\n            <p>{postDescription}</p>\n          </div>\n          <div className=\"text-left my-4\">\n            <h4>Post Date</h4>\n            <p>{scheduleDate}</p>\n          </div>\n      </div>\n      </div>\n      </div>\n      </>\n     \n  )\n  :null;\n\n  return (\n    <div className=\"todo-data bg-black pt-3\">\n      <div className=\"d-flex justify-content-between border p-2 shadow \">\n          <div className=\"pt-2\">\n              <h4 className=\"text-white\">Add To-Do</h4>\n          </div>\n          <div>\n              <button className=\"btn btn-warning\" onClick={() => setShowModal(true)}><i class=\"fa fa-plus-square\" aria-hidden=\"true\"></i></button>\n          </div>\n      </div>\n\n      <div className=\"todo-list my-4\">\n     \n      {postData ?\n        Object.entries(postData).map((item) => (\n       \n        <div className=\"d-flex justify-content-between border p-2 shadow my-3\">\n            <div>\n              <h5 className=\"text-white\" key={item[0]}>{item[1].postName}</h5>\n              <small className=\"text-info\">{item[1].postDate}</small>\n            </div>\n            <div>\n              <button  id={item[0]} value={item[1].postName} onClick={(e) =>\n                    onPostClick(\n                      item[1].postName,\n                      item[1].postDetail,\n                      item[1].postDate,\n                      item[0],\n                      e\n                    )\n                  } className=\"btn btn-transparent mt-2\"><i className=\"text-white fa fa-list\" aria-hidden=\"true\"></i></button>\n            </div>\n        </div>\n       \n        ) ) : <div className=\"alert alert-warning\" role=\"alert\">No todo added!</div>\n        }\n\n      </div>\n        <br />\n        {showModal && (\n        \n            <Modal  \n                content = {modalContent}\n                close = {modalCloseHandler}/> \n        )}\n       \n       {showDetails && (\n        \n        <Modal  \n            content = {showmodalContent}\n            close = {showmodalCloseHandler}/> \n    )}\n\n    </div>\n\n\n   \n)\n}\n\nexport default Todo;\n"]},"metadata":{},"sourceType":"module"}